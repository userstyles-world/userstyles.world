<html lang="en">
    <head>
        {{ partial "head.html" }}
        <title>
            {{ if .IsPage }}{{ .Params.name }}{{ end }}
            {{ .Site.Params.TitleSeparator }}
            {{ .Site.Title }}
        </title>
    </head>
    <body>
        {{ partial "nav.html" }}

        <main>
            <hr class="mb2" />

            <article class="details col mb2">
                <h1 class="tac">{{ .Params.name }}
                    <span class="fg2"> by {{ .Params.author }}</span>
                </h1>
                <img src="{{ .Params.preview }}"
                    alt="{{ .Params.name }} screenshot"/>
                <p class="pt1">{{ .Params.info }}</p>
                <p class="pt1">Tagged with:
                    {{- range .Params.tags }} {{ . }}{{ end -}}
                </p>
                <p class="pt1">License: {{ .Params.license }}</p>
                <p class="pt1">
                    <a href="{{ .Params.install }}">Install</a> Â·
                    <a href="{{ .Params.home }}">Source</a>
                </p>

                {{ if .Content }}
                    <p>{{ .Content }}</p>
                {{ end }}

                {{/* TODO: Seems like there is a problem with the way Vercel
                     clones the repository. This works fine locally. Maybe write
                     a shell script to handle building the website? */}}
                {{/* partial "page_updated.html" . */}}
            </article>
        </div>

        {{ if .Site.Params.debug }}
            <hr />
            <h3>{{ with .Page }} {{ . }} {{ end }}</h3>
            <pre>{{- .Site | jsonify (dict "indent" "    ") -}}</pre>
            <pre>{{- .Site.Params | jsonify (dict "indent" "    ") -}}</pre>
        {{ end }}

        {{ partial "footer.html" }}
    </body>
</html>
